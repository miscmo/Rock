\doxysection{rock\+::Config类 参考}
\label{classrock_1_1Config}\index{rock::Config@{rock::Config}}


Config\+Var的管理类  




{\ttfamily \#include $<$config.\+h$>$}



rock\+::Config 的协作图\+:
% FIG 0
\doxysubsection*{Public 类型}
\begin{DoxyCompactItemize}
\item 
\mbox{\label{classrock_1_1Config_acca4c31405d485cc5684130721ed4767}} 
typedef std\+::unordered\+\_\+map$<$ std\+::string, Config\+Var\+Base\+::ptr $>$ {\bfseries Config\+Var\+Map}
\item 
\mbox{\label{classrock_1_1Config_afc77a8ebc99d0b267ea9ca762449a65c}} 
typedef \textbf{ R\+W\+Mutex} {\bfseries R\+W\+Mutex\+Type}
\end{DoxyCompactItemize}
\doxysubsection*{静态 Public 成员函数}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$class T $>$ }\\static \textbf{ Config\+Var}$<$ T $>$\+::ptr \textbf{ Lookup} (const std\+::string \&name, const T \&default\+\_\+value, const std\+::string \&description=\char`\"{}\char`\"{})
\begin{DoxyCompactList}\small\item\em 获取/创建对应参数名的配置参数 \end{DoxyCompactList}\item 
{\footnotesize template$<$class T $>$ }\\static \textbf{ Config\+Var}$<$ T $>$\+::ptr \textbf{ Lookup} (const std\+::string \&name)
\begin{DoxyCompactList}\small\item\em 查找配置参数 \end{DoxyCompactList}\item 
\mbox{\label{classrock_1_1Config_afe9b06f2309a0e63f325dfcfa9e0ee27}} 
static void \textbf{ Load\+From\+Yaml} (const Y\+A\+M\+L\+::\+Node \&root)
\begin{DoxyCompactList}\small\item\em 使用\+Y\+A\+M\+L\+::\+Node初始化配置模块 \end{DoxyCompactList}\item 
\mbox{\label{classrock_1_1Config_a5fd34d25c4b3b597407138f451a3db6f}} 
static void \textbf{ Load\+From\+Conf\+Dir} (const std\+::string \&path, bool force=false)
\begin{DoxyCompactList}\small\item\em 加载path文件夹里面的配置文件 \end{DoxyCompactList}\item 
static Config\+Var\+Base\+::ptr \textbf{ Lookup\+Base} (const std\+::string \&name)
\begin{DoxyCompactList}\small\item\em 查找配置参数,返回配置参数的基类 \end{DoxyCompactList}\item 
static void \textbf{ Visit} (std\+::function$<$ void(Config\+Var\+Base\+::ptr)$>$ cb)
\begin{DoxyCompactList}\small\item\em 遍历配置模块里面所有配置项 \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
Config\+Var的管理类 

提供便捷的方法创建/访问\+Config\+Var 

\doxysubsection{成员函数说明}
\mbox{\label{classrock_1_1Config_a8756af787939964e5d99343549e9b9cd}} 
\index{rock::Config@{rock::Config}!Lookup@{Lookup}}
\index{Lookup@{Lookup}!rock::Config@{rock::Config}}
\doxysubsubsection{Lookup()\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$class T $>$ \\
static \textbf{ Config\+Var}$<$T$>$\+::ptr rock\+::\+Config\+::\+Lookup (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



查找配置参数 


\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em name} & 配置参数名称 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
返回配置参数名为name的配置参数 
\end{DoxyReturn}
\mbox{\label{classrock_1_1Config_af4ae13dc6d932b1ecde5a6851c34e4f7}} 
\index{rock::Config@{rock::Config}!Lookup@{Lookup}}
\index{Lookup@{Lookup}!rock::Config@{rock::Config}}
\doxysubsubsection{Lookup()\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$class T $>$ \\
static \textbf{ Config\+Var}$<$T$>$\+::ptr rock\+::\+Config\+::\+Lookup (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name,  }\item[{const T \&}]{default\+\_\+value,  }\item[{const std\+::string \&}]{description = {\ttfamily \char`\"{}\char`\"{}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



获取/创建对应参数名的配置参数 


\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em name} & 配置参数名称 \\
\hline
\mbox{\texttt{ in}}  & {\em default\+\_\+value} & 参数默认值 \\
\hline
\mbox{\texttt{ in}}  & {\em description} & 参数描述\\
\hline
\end{DoxyParams}
获取参数名为name的配置参数,如果存在直接返回 如果不存在,创建参数配置并用default\+\_\+value赋值 \begin{DoxyReturn}{返回}
返回对应的配置参数,如果参数名存在但是类型不匹配则返回nullptr 
\end{DoxyReturn}

\begin{DoxyExceptions}{异常}
{\em 如果参数名包含非法字符\mbox{[}$^\wedge$0-\/9a-\/z\+\_\+.\mbox{]}} & 抛出异常 std\+::invalid\+\_\+argument \\
\hline
\end{DoxyExceptions}
\mbox{\label{classrock_1_1Config_a4686fe9cdfadd0e404004c5b63b7fe33}} 
\index{rock::Config@{rock::Config}!LookupBase@{LookupBase}}
\index{LookupBase@{LookupBase}!rock::Config@{rock::Config}}
\doxysubsubsection{LookupBase()}
{\footnotesize\ttfamily static Config\+Var\+Base\+::ptr rock\+::\+Config\+::\+Lookup\+Base (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



查找配置参数,返回配置参数的基类 


\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em name} & 配置参数名称 \\
\hline
\end{DoxyParams}
\mbox{\label{classrock_1_1Config_aeca2a705605dfae2e80c4f94b3689eee}} 
\index{rock::Config@{rock::Config}!Visit@{Visit}}
\index{Visit@{Visit}!rock::Config@{rock::Config}}
\doxysubsubsection{Visit()}
{\footnotesize\ttfamily static void rock\+::\+Config\+::\+Visit (\begin{DoxyParamCaption}\item[{std\+::function$<$ void(Config\+Var\+Base\+::ptr)$>$}]{cb }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



遍历配置模块里面所有配置项 


\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em cb} & 配置项回调函数 \\
\hline
\end{DoxyParams}


该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
rock/\textbf{ config.\+h}\end{DoxyCompactItemize}
